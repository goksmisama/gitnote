# 1 运维的概述与Liunx系统的安装

## 1.1 运维的概述

### 1.1.1 什么是运维

**IT 运维管理**是指为了保障企业 IT 系统及网络的可用性、安全性、稳定性，保障业务的连续性，通过专业技术手段，对计算机网络、应用系统、电信网络、软硬件环境及运维服务流程等进行的综合管理。

随着企业数字化转型升级进程加快，企业 IT 系统架构越来越复杂，软件更新迭代越来越快。企业信息化建设使得大量业务和数据需要依靠信息系统来完成，稳定可用的 IT 系统是企业业务发展的基础条件，IT 运维管理随之成为企业信息化建设的重要环节。

近年来，因为 IT 系统突然出现故障导致业务瘫痪甚至造成巨额损失的现象频出不穷。而大型数据中心由于对系统、数据的高度依赖，IT 风险更大，对 IT 运维管理的重视也就更高。

### 1.1.2 运维领域的相关技术及概念

* 云计算（公有云、私有云、混合云）

云服务器是由云服务厂商提供的性能卓越、稳定可靠、弹性扩展的 IaaS（Infrastructure as a Service）级别云计算服务。云服务器免去了采购 IT 硬件的前期准备，让企业像使用水、电、天然气等公共资源一样便捷、高效地使用服务器，实现计算资源的即开即用和弹性伸缩。

* DevOps

DevOps（Development 和 Operations 的组合词），它是一组过程、方法与系统的统称，主要用于促进开发和运营保障团队之间的协作与沟通，从而提高应用程序和服务的交付响应速度。DevOps 把原本独立的开发和运营工作融合到一起，运营团队时刻了解开发人员的进展，并与他们形成互动，共同监控 IT 业务进展。在运维方面，DevOps 可以打通从需求到结果运行的所有环节，以提高业务价值为目标

* AIOps

2016 年，Gartner 提出利用 AI 技术的新一代IT运维，即 AIOps（智能运维），可以解决未来企业可能遭遇的因IT故障而导致的业务中断，AIOps 是 ITOM 的升级和进步，它结合了大数据和机器算法、机器学习技术，通过海量信息的搜集和处理，发现、预测、解决故障，进一步推动了IT运维自动化，减少了人力成本。

* CI/CD

  CI/CD 是一种通过在应用开发阶段引入自动化来频繁向客户交付应用的方法。CI/CD 的核心概念是持续集成、持续交付和持续部署。作为一个面向开发和运营团队的解决方案，CI/CD 主要针对在集成新代码时所引发的问题。

* Docker

Docker 是一个开源的应用容器引擎，通常包括客户端、守护进程、镜像、容器，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中，再发布出去。类似于一个集装箱，可以把货物规整的摆放起来。

## 1.2 企业的运行模式

### 1.2.1 项目流程

项目流程走向如下所示：

<img src="C:\Users\98460\AppData\Roaming\Typora\typora-user-images\image-20220614015339556.png" alt="image-20220614015339556" style="zoom:33%;" />

### 1.2.2 部门与部门职责

* 产品部门：设计产品的需求，确定需要做的项目的功能和细节问题
* 研发部门：根据产品部门/测试部门提供的项目模块需求进行编程
* 测试部门：对于研发部门提供的代码进行运行测试，检查是否存在bug和一些需要改善的体验
* 运维部门：负责项目环境部署、上线、架构的搭建等

### 1.2.3 系统环境

一个成熟企业需要搭建如下几种系统环境：

* 开发环境：顾名思义，是指程序开发时所用的环境。程序员在编写代码时所使用的环境，一般来讲，开发环境中的服务器配置比较随意主要是用来测试的，用户交互，并且要打开错误报告，方便程序员调试
* 测试环境：公司内部研发人员使用的环境，开发人员调试代码，测试人员进行功能测试和集成测试等等使用的环境
* 生产环境：生产环境是指正式提供对外服务的环境

### 1.2.4 网站的概念

简单地说，网站是一种沟通工具，人们可以通过网站来发布自己想要公开的资讯，或者利用网站来提供相关的网络服务。人们可以通过网页浏览器来访问网站，获取自己需要的资讯或者享受网络服务。

网站的运行模式如下所示：

<img src="https://picture.marui199710.top/essay/20220615234119.png" alt="image-20220614020619807" style="zoom:33%;" />

从上图中可以看出如果一个网站项目需要正常的运行，则需要的前提条件有：

* 域名（方便用户记忆）
* 需要对域名和 IP 的关系进行关联（DNS 服务器）
* 服务器（具有公网 IP）
* 服务器中项目运行环境

> ①DNS 的概念：DNS（Domain Name Server，域名服务器）是进行域名（domain name）和与之相对应的 IP 地址 （IP address）转换的服务器，DNS 中保存了一张域名（domain name）和与之相对应的 IP 地址 （IP address）的表，可以将域名解析为具体的 IP 地址。
>
> ②CND 的概念：CDN（Content Delivery Network，内容分发网络），各地的服务器会将目标服务器的资源缓存，当用户请求服务器资源时，会访问最近的服务器，以降低网络拥塞，提高用户访问响应速度和命中率。

### 1.2.5 几个重要的概念

* 服务器

服务器就是给用户提供服务的机器（电脑）。服务器可以分为四大类：塔式服务器、机式服务器、刀片服务器、柜式服务器。

* IP 地址

形式 ipv4（常见）、ipv6（不考虑）。Ipv4 形式：`x.x.x.x`，x 有取值范围（第1 位 x 取值 1-223，从第二位开始 0-255）。由于资源有限为了保证全球这么多台电脑都可以使用，ip 可以分为公网/外网 ip 和私网/内网 ip 地址。

>  Tips：`0.0.0.0`表示所有的 IP 地址

* 域名

域名就是在浏览器地址栏中输入的那一串字母和数字的组合，例如：`www.baidu.com`，这个就是域名，域名主要是方便用户记忆。

> Tips：`www.baidu.com` 这个域名是二级域名，看域名的级别只需要看有几个`.`，日常所说的注册域名指的是注册顶级域名（一级）

* 公网

公网是全世界都可以互相访问的网络。 

* 局域网

局域网/内网/私网即在某个单元内部（家庭/教室/公司）能够进行互相访问的网络。

## 1.3 操作系统的概述

### 1.3.1 操作系统的概念

计算机资源一般来说可以分为两部分：硬件资源和软件资源。

> ①硬件：一般硬件是指计算机的物理组成，由真实的设备组成的
>
> ②软件：软件是由开发人员去按照编程语言的特定的规则去编写的程序

操作系统是软件资源与硬件资源之间的桥梁，并且操作系统也属于软件资源的范畴，它属特殊的软件。

### 1.3.2 操作系统的分类

常见的操作系统由：Windows、Mac、Linux。

* Windows：是微软公司研发的收费操作系统（闭源）；
* Mac：是苹果公司研发的收费操作系统（闭源）。
* Linux：Linux 是目前全球使用量最多的服务器操作系统（开源）。

> 闭源：不开放源代码，用户是没有办法看到软件的底层实现（闭源≠收费）；
>
> 开源：表示开放源代码（开源≠免费）。

### 1.3.3 为什么使用Linux

* 性能好，系统资源占用率低
* 稳定性高
* 安全性高
* 远程管理方便
* 开源免费

## 1.4 Linux的概述

### 1.4.1 Linux的起源

![image-20220615224012893](https://picture.marui199710.top/essay/20220615224021.png)

林纳斯·托瓦兹（Linus）：Linux 的开发作者，被称为 Linux 之父，Linux 诞生时是芬兰赫尔辛基大学的在校大学生。

斯特曼（Stallman）：开源文化的倡导人。

### 1.4.2 Linux的含义

狭义：由 Linus 编写的一段内核代码。

广义：广义上的 Linux 是指由 Linux 内核衍生的各种 Linux 发行版本。（CentOS、Ubuntu等）

### 1.4.3 Linux的特点

Linux 具有开放性（开源）、多用户、多任务、良好的用户界面、优异的性能与稳定性等特点。

> ①单用户：一个用户，在登录计算机（操作系统），只能允许同时登录一个用户；
>
> ②多用户：多个用户，在登录计算机（操作系统），允许同时登录多个用户进行操作；
>
> ③单任务：允许用户在同一时间进行一个操作任务；
>
> ④多任务：允许用户同时进行多个操作任务；

### 1.4.4 Linux分支

Linux 分支有很多，现在比较有名的 redhat、ubuntu、debian、centos（Community Enterprise Operating System）、suse 等。

## 1.5 Linux系统的安装

### 1.5.1 Linux系统的安装方式

目前安装操作系统方式有2 种：真机安装、虚拟机安装。

* 真机安装：使用真实的电脑进行安装，像安装 windows 操作系统一样，真机安装的结果就是替换掉当前的windows 操作系统；（缺点：对系统进行格式化，重新安装）

* 虚拟机安装：通过一些特定的手段，来进行模拟安装，并不会影响当前计算机的真实操作系统；

### 1.5.2 虚拟机的概念

虚拟机，有些时候想模拟出一个真实的电脑环境，碍于使用真机安装代价太大，因此而诞生的一款可以模拟操作系统运行的软件。常见的两种虚拟机有：VMware的 VMware Workstation 和 Oracle 的 Virtual Box。 

### 1.5.3 虚拟机的安装

VMware 虚拟机的安装步骤如下所示：

1. 第一步：双击打开 VMware 安装程序

![image-20220615233738973](https://picture.marui199710.top/essay/20220615233739.png)

2. 第二步：进行下一步安装

![image-20220615235226059](https://picture.marui199710.top/essay/20220615235226.png)

3. 第三步：同意许可协议，单击下一步

![image-20220615235346196](https://picture.marui199710.top/essay/20220615235348.png)

4. 第四步：根据需要更改安装位置

![image-20220615235742929](https://picture.marui199710.top/essay/20220615235744.png)

5. 第五步：更改成功后，单击确定，下一步继续安装

![image-20220616000126910](https://picture.marui199710.top/essay/20220616000129.png)

6. 第六步：配置用户体验设置，如下图所示，单击下一步继续安装

![image-20220616000249562](https://picture.marui199710.top/essay/20220616000251.png)

7. 第七步：配置快捷方式设置，单击下一步继续安装

![image-20220616000538031](https://picture.marui199710.top/essay/20220616000540.png)

8. 第八步：单击安装按钮

![image-20220616000813470](https://picture.marui199710.top/essay/20220616000815.png)

9. 第九步：等待安装完成输入许可证

![image-20220616001034941](https://picture.marui199710.top/essay/20220616001036.png)

![image-20220616001517296](https://picture.marui199710.top/essay/20220616001518.png)

10. 第十步：退出安装程序，按照提示重启电脑

![image-20220616001602688](https://picture.marui199710.top/essay/20220616001604.png)

![image-20220616003618067](https://picture.marui199710.top/essay/20220616003619.png)



11. 第十一步：检查虚拟机软件是否有安装 2 个虚拟机

![image-20220616001854004](https://picture.marui199710.top/essay/20220616001855.png)

### 1.5.4 Linux 系统环境部署

1. 第一步：点击【文件】-【新建虚拟机】，选择自定义创建，点击下一步

![image-20220618190119692](https://picture.marui199710.top/essay/20220618190120.png)

2. 第二步：选择兼容性，默认即可，点击下一步

![image-20220618190152015](https://picture.marui199710.top/essay/20220618190155.png)

3. 第三步：选择稍后安装操作系统，点击下一步

![image-20220618190321184](https://picture.marui199710.top/essay/20220618190322.png)

4. 第四步：选则具体安装的操作系统的类型与版本，点击下一步

![image-20220618190425495](https://picture.marui199710.top/essay/20220618190427.png)

5. 第五步：指定虚拟机的名称，和虚拟机在磁盘中的存放位置，点击下一步

![image-20220618190946053](https://picture.marui199710.top/essay/20220618190947.png)

6. 第六步：根据自身的电脑配置进行 CPU 的相关设置，点击下一步

![image-20220618192335088](https://picture.marui199710.top/essay/20220618192336.png)

7. 第七部：自身的电脑配置为虚拟机分配内存，点击下一步

![image-20220618191219822](https://picture.marui199710.top/essay/20220618191221.png)

8. 第八步：选择虚拟机的网络类型，点击下一步

![image-20220618192308661](https://picture.marui199710.top/essay/20220618192309.png)

9 .第九步：后续操作都按默认设置，选择下一步

![image-20220618192454883](https://picture.marui199710.top/essay/20220618192455.png)

![image-20220618192504530](https://picture.marui199710.top/essay/20220618192505.png)

![image-20220618192519222](https://picture.marui199710.top/essay/20220618192520.png)

![image-20220618192551679](https://picture.marui199710.top/essay/20220618192552.png)

![image-20220618192641855](https://picture.marui199710.top/essay/20220618192643.png)

10. 第十步：安装完成后退出安装

![image-20220618192753309](https://picture.marui199710.top/essay/20220618192754.png)

### 1.5.5 CentOS系统的安装

选择使用的 Linux 系统的版本为 CentOS 7.6 X64。

前往 [CentOS](https://www.centos.org/ ) 的官网下载镜像文件，CentOS 7.6 的下载地址为：https://vault.centos.org/7.6.1810/isos/x86_64/

![image-20220618185540569](https://picture.marui199710.top/essay/20220618185550.png)

下载好镜像文件后可以在新建的虚拟机中安装 CentOS系统，步骤如下：

1. 第一步：点击新建的虚拟机，选择【编辑虚拟机设置】-【CD/DVD(IDE)】-【使用 ISO 映像文件】，选择刚才下载好的 CentOS-7.6-x86_64-DVD-1810.iso 的镜像文件

![image-20220618193228161](https://picture.marui199710.top/essay/20220618193228.png)

![image-20220618193754874](https://picture.marui199710.top/essay/20220618193755.png)

2. 第二步：开启虚拟机，进行系统安装

![image-20220618193912033](https://picture.marui199710.top/essay/20220618193913.png)

3. 第三步：选择安装 CentOS 7，按回车确认

![image-20220618194722225](https://picture.marui199710.top/essay/20220618194723.png)

4. 第四步：等待一会儿后，选择系统的语言，推荐选择英文，点击继续

![image-20220618195905253](https://picture.marui199710.top/essay/20220618195906.png)

5. 第五步：在安装信息摘要界面，首先设置时间

![image-20220618200219946](https://picture.marui199710.top/essay/20220618200220.png)

![image-20220618201222955](https://picture.marui199710.top/essay/20220618201224.png)

6. 第六步：回到安装信息摘要界面，然后进行软件选择设置

![image-20220618201650489](https://picture.marui199710.top/essay/20220618201651.png)

![image-20220618201546802](https://picture.marui199710.top/essay/20220618201619.png)7. 第七步：回到安装信息摘要界面，进行磁盘分区设置

![image-20220618201853992](https://picture.marui199710.top/essay/20220618201855.png)

![image-20220618201948184](https://picture.marui199710.top/essay/20220618201949.png)

8. 第八步：回到安装信息摘要界面，进行网络设置

![image-20220618202031716](https://picture.marui199710.top/essay/20220618202032.png)

![image-20220618202121901](https://picture.marui199710.top/essay/20220618202123.png)

9. 第九步：回到安装信息摘要界面，开始安装

![image-20220618202352753](https://picture.marui199710.top/essay/20220618202354.png)

![image-20220618202437364](https://picture.marui199710.top/essay/20220618202438.png)

10. 第十步：给 root 用户设置密码

![image-20220618202606066](https://picture.marui199710.top/essay/20220618202607.png)

![image-20220618202648060](https://picture.marui199710.top/essay/20220618202648.png)

11. 第十一步：创建一个普通用户

![image-20220618202738689](https://picture.marui199710.top/essay/20220618202739.png)

![image-20220618202900550](https://picture.marui199710.top/essay/20220618202901.png)

12. 第十二步：设置好 root 以后密码和创建好普通用户后，等待安装完成点击重启

![image-20220618203320610](https://picture.marui199710.top/essay/20220618203321.png)13. 第十三步：重启过程中，同意 CentOS 系统的授权

![image-20220618203627334](https://picture.marui199710.top/essay/20220618203628.png)

![image-20220618203652906](https://picture.marui199710.top/essay/20220618203653.png)

14. 第十四步：点击完成配置，此时 CentOS 操作系统全部安装完毕

![image-20220618203735792](https://picture.marui199710.top/essay/20220618203736.png)

## 1.6 操作系统的备份

### 1.6.1 快照

快照：又称还原点，就是保存在拍快照时候的系统的状态（包含了所有的内容），在后期的时候随时可以恢复。

> Tips：侧重在于短期备份，需要频繁备份的时候都可以使用快照，做快照的时候虚拟机中操作系统一般处于开启状态

使用 VMware 实现快照，具体操作步骤如下：

1. 第一步：点击 VMware 菜单【虚拟机】-【快照】-【拍摄快照】

![image-20220618204233297](https://picture.marui199710.top/essay/20220618204234.png)

2. 第二步：设置快照名称

![image-20220618204350477](https://picture.marui199710.top/essay/20220618204351.png)

3. 第三步：点击 VMware 菜单【虚拟机】-【快照】，选择具体的快照，来恢复到快照

![image-20220618204617347](https://picture.marui199710.top/essay/20220618204618.png)

### 1.6.2 克隆

克隆：就是复制的意思。

> Tips：克隆侧重长期备份，做克隆的时候是必须得关闭。

使用VMware实现克隆，具体操作步骤如下：

1. 第一步：先关机，右键点击需要克隆的虚拟机选择【管理】-【克隆】，点击下一步

![image-20220618211343687](https://picture.marui199710.top/essay/20220618211344.png)

2. 第二步：点击下一步

![image-20220618211540829](https://picture.marui199710.top/essay/20220618211542.png)

3. 第三步：创建完整的克隆，点击下一步

![image-20220618211626920](https://picture.marui199710.top/essay/20220618211627.png)

4. 第四部：填写克隆的虚拟机的名称和存放位置

![image-20220618211905143](https://picture.marui199710.top/essay/20220618211905.png)

5. 第五步：完成克隆后，关闭弹窗，可以在 VMware 中看到克隆的虚拟机

![image-20220618212611153](https://picture.marui199710.top/essay/20220618212612.png)

![image-20220618212932887](https://picture.marui199710.top/essay/20220618212934.png)

### 1.6.3 快照和克隆的区别

快照：

* 快照侧重于短期备份
* 创建快照时，虚拟机处于开启状态
* 快照之后依旧是一台虚拟机

* 一般在进行一些危险操作前需要进行快照



克隆：

* 克隆侧重于长期备份
* 克隆时，虚拟机需要处于关机状态
* 克隆之后会生成一台新的电脑，所以克隆可用于快速创建多台虚拟机
* 克隆好的服务器相关密码帐号等信息与被克隆的系统一致。但是，克隆出来的机器网卡不能直接启动使用，需要重新配置

## 1.7 Linux系统的使用注意

### 1.7.1 Linux严格区分大小写

Linux 和 Windows 不同，Linux 是严格区分大小写的，包括文件名和目录名、命令、命令选项、配置文件设置选项等。
例如，在 Windows 系统桌面上有文件夹叫做 Test，当我们在桌面上再新建一个名为 test 的文件夹时，系统会提示文件夹命名冲突；

![image-20220618222637736](https://picture.marui199710.top/essay/20220618222638.png)

但 Linux 系统不会，Test 文件夹与 test 文件夹可以处于同一目录下。

![image-20220618222924199](https://picture.marui199710.top/essay/20220618222925.png)

### 1.7.2 Linux系统文件的扩展名

在 Windows 系统中，文件的类型是通过扩展名来区分的。

![image-20220618223832047](https://picture.marui199710.top/essay/20220618223833.png)

Linux 系统不以扩展名判断文件类型，其文件的类型是通过权限位标识来确定的。例如，Linux 的可执行文件就是普通文件被赋予了可执行权限。此外，常见的文件类型有普通文件、目录、链接文件、块设备文件、字符设备文件等几种。

![image-20220618223819607](https://picture.marui199710.top/essay/20220618223835.png)

但是 Linux 中的一些特殊文件还是要求写 "扩展名" 的，但 Linux 不依赖扩展名来识别文件类型，写这些扩展名是为了帮助运维人员来区分不同的文件类型。

这样的文件扩展名主要有以下几种：

* 压缩包：Linux 下常见的压缩文件名有 `.gz`、`.bz2`、`.zip`、`.tar.gz`、`.tar.bz2`、`.tgz` 等

* 二进制软件包：CentOS 中所使用的二进制安装包是 RPM 包，所有的 RPM 包都用`.rpm`扩展名结尾
* 程序文件：Shell 脚本一般用`.sh`扩展名结尾
* 网页文件：网页文件一般使用`.html`、`.css`、`.js`、`.jsp`、`.php`等结尾，不过这是网页服务器的要求，而不是 Linux 的要求

### 1.7.3 Linux中所有内容以文件形式保存

在 Linux 系统中，一切皆文件。Linux 中的文件主要可以分为以下两种类型：

1. 普通文件

普通文件类似于 Windows 系统中文件的概念，可以分为一般文件（黑色）和可执行文件（绿色）。

一般文件的特点是其打开（编辑器打开）后会看到里面有内容，或者可以往其中写内容。

可执行文件在 Windows 下一般为 `.exe`、`.msi`、`.bat`等后缀，其特点是双脚后可以直接运行。

2. 目录文件

目录文件类似于 Windows 系统中的文件夹。

用于存储文件（当然也可以存储文件夹）的夹子称之为文件夹（蓝色的）。

### 1.7.4 Linux中的存储设备需挂载后使用

挂载其实就是给这些存储设备分配盘符，只不过 Windows 中的盘符用英文字母表示，例如`c:`、`d:`。而 Linux 中的盘符则是一个已经建立的空目录。我们把这些空目录叫作挂载点（可以理解为 Windows 的盘符），把设备文件（如 `/dev/sda`）和挂载点（已经建立的空目录）连接的过程叫作挂载。载过程是通过挂载命令`mount`实现的。

### 1.7.5 Linux系统的目录结构

Linux 系统不同于 Windows，没有 C 盘、D 盘、E 盘等盘符，只有一个更目录`/`，所有的文件（资源）都存储在以根目录`/`为树根的树形结构中。

<img src="https://picture.marui199710.top/essay/20220619224909.png" alt="image-20220619224358988" style="zoom: 50%;" />

在 Linux 根目录`/`下包含很多的子目录，称为一级目录，例如 `/bin`、`/boot`、`/dev` 等。

同时一级目录下还含有很多子目录，称为二级目录，例如 `/bin/bash`、`bin/ed` 等。

<img src="https://picture.marui199710.top/essay/20220619224906.png" alt="image-20220619224813576" style="zoom: 50%;" />

在 Linux 系统中，路径分为绝对路径和相对路径。

* 绝对路径：不管当前工作路径是在哪，目标路径都会从磁盘根目录`/`开始
* 相对路径：除绝对路径之外的路径称之为相对路径，相对路径得有一个相对物（当前工作路径）

> ①`/`：表示该路径从根目录`/`开始，是绝对路径
>
> ②`./`：表示同级目录，是相对路径
>
> ③`../`：表示上级目录，是是相对路径
>
> ④`目录文件名/`：表示同级目录中的某个目录文件的下一级目录，是相对路径，等同于`./目录文件名/`

### 1.7.6 Linux 系统文件目录的用途



| 一级目录          | 说明                                                         |
| ----------------- | ------------------------------------------------------------ |
| /bin/             | 存放系统命令，普通用户和 root 都可以执行。放在 /bin 下的命令在单用户模式下也可以执行 |
| /sbin/            | 超级用户可以使用的命令的存放目录。保存与系统环境设置相关的命令，只有 root 用户可以使用这些命令进行系统环境设置，但也有些命令可以允许普通用户查看 |
| /boot/            | 系统启动目录，保存与系统启动相关的文件，如内核文件和启动引导程序（grub）文件等。类似于 Windows 系统中的 C 盘 |
| /dev/             | 设备文件保存位置，硬盘、光驱、U盘都属于设备文件，`/dev/sr0`代表光驱设备，必须挂在后才能使用 |
| /etc/             | 配置文件保存位置。系统内所有采用默认安装方式（rpm 安装）的服务配置文件全部保存在此目录中，如用户信息、服务的启动脚本、常用服务的配置文件等 |
| /home/            | 普通用户的主目录（也称为家目录）。在创建用户时，每个用户要有一个默认登录和保存自己数据的位置，就是用户的主目录，所有普通用户的主目录是在`/home/` 下建立一个和用户名相同的目录。如用户 liming 的主目录就是 `/home/liming` |
| /lib/<br/>/lib64/ | 系统调用的函数库保存位置                                     |
| /media/           | 挂载目录。系统建议用来挂载媒体设备，如软盘和光盘             |
| /mnt/             | 挂载目录。早期 Linux 中只有这一个挂载目录，并没有细分。系统建议这个目录用来挂载额外的设备，如 U 盘、移动硬盘和其他操作系统的分区 |
| /misc/            | 挂载目录。系统建议用来挂载 NFS 服务的共享目录。虽然系统准备了三个默认挂载目录 `/media/`、`/mnt/`、`/misc/`，但是到底在哪个目录中挂载什么设备可以由管理员自己决定。例如，笔者在接触 Linux 的时候，默认挂载目录只有 `/mnt/`，所以养成了在 `/mnt/` 下建立不同目录挂载不同设备的习惯，如 `/mnt/cdrom/` 挂载光盘、`/mnt/usb/` 挂载 U 盘，都是可以的 |
| /opt/             | 第三方安装的软件保存位置。这个目录是放置和安装其他软件的位置，手工安装的源码包软件都可以安装到这个目录中。不过笔者还是习惯把软件放到 `/usr/local/` 目录中，也就是说，`/usr/local/` 目录也可以用来安装软件 |
| /usr/             | 系统程序目录，类似于 Windows 中的 Program Files 目录         |
| /srv/             | 服务数据目录。一些系统服务启动之后，可以在这个目录中保存所需要的数据 |
| /tmp/             | 临时目录。系统存放临时文件的目录，在该目录下，所有用户都可以访问和写入。建议此目录中不能保存重要数据，最好每次开机都把该目录清理 |
| /var/             | 用于存放运行时需要改变数据的文件，也是某些大文件的溢出区，比方说各种服务的日志文件（系统启动日志等。）等 |
| /proc/            | 虚拟文件系统。该目录中的数据并不保存在硬盘上，而是保存到内存中。主要保存系统的内核、进程、外部设备状态和网络状态等。如 `/proc/cpuinfo` 是保存 CPU 信息的，`/proc/devices` 是保存设备驱动的列表的，`/proc/filesystems` 是保存文件系统列表的，`/proc/net` 是保存网络协议信息的...... |
| /sys/             | 虚拟文件系统。和 /proc/ 目录相似，该目录中的数据都保存在内存中，主要保存与内核相关的信息 |
| /lost+found/      | 当系统意外崩溃或意外关机时，产生的一些文件碎片会存放在这里。在系统启动的过程中，fsck 工具会检查这里，并修复已经损坏的文件系统。这个目录只在每个分区中出现，例如，`/lost+found` 就是根分区的备份恢复目录，`/boot/lost+found` 就是 /boot 分区的备份恢复目录 |

# 2 Linux 的基础命令

## 2.1 Linux命令入门

### 2.1.1 开启终端

1. 打开终端的方式

在 Linux 的图形化界面中，可以单机应用程序菜单，选择【System Tools】-【Terminal】的方式打开终端窗口：

![image-20220619232902523](https://picture.marui199710.top/essay/20220619232903.png)

也可以在空白处，单机鼠标右键选择 Open Terminal 来打开终端：

![image-20220619233115532](https://picture.marui199710.top/essay/20220619233116.png)

2. 终端界面说明

打开终端后，运行结果如下图所示：

![image-20220619233859602](https://picture.marui199710.top/essay/20220619233900.png)

### 2.1.2 命令与选项

Linux 命令是指在 Linux 终端（命令行）中输入的内容。一个完整的命令的标准格式如下所示：

```powershell
命令 [选项] [参数]
```

> Tips：上述标准格式中被`[]`包裹的表示该项为可选项，可写可不写，具体得看需要一个命令可以包含多个选项。操作对象也可以是多个。

### 2.1.3 Linux的命令补全

在 Linux 系统中，当你输入一个命令，再按两次 TAB 键，就会列出所有以你输入字符开头的可用命令；当仅有一个匹配的命令时，按一次 TAB 就会补全命令。这个功能被称作命令行补全。

![image-20220619234823494](https://picture.marui199710.top/essay/20220619234824.png)

## 2.2 常见基础命令

### 2.2.1 切换用户命令su

su 命令可以用于切换用户，其基本语法格式如下所示：

```powershell
su - username
```

使用案例如下：

![image-20220620022504763](https://picture.marui199710.top/essay/20220620022513.png)

> Tips：`su - username`和`su username`的区别在于，前者会在切换用户的时候切换到用户的家目录，并且前者会改变环境变量。

### 2.2.2 查看操作系统信息uname

uname 命令可以用于获取计算机操作系统相关信息，其基本语法格式如下所示：

```powershell
uname
```

该命令的可选选项有：

* `-a`：选项`-a`代表`all`，表示获取全部的系统信息（类型、全部主机名、内核版本、发布时间、开源计划）

使用案例如下：

![image-20220620022657795](https://picture.marui199710.top/essay/20220620022659.png)

### 2.2.3 查看目录下的文件ls

ls 命令（list show）可以用于查看目录下的文件，其基本语法格式如下所示：

```powershell
# 显示当前目录下的文件
ls
# 显示指定路径下的文件
ls 绝对路径或相对路径
```

使用案例如下：

![image-20220620031832596](https://picture.marui199710.top/essay/20220620031833.png)

该命令的可选选项有：

* `-l`：表示 list，表示以详细列表的形式进行展示，`ls -l`可以简写为`ll`
* `-a`：`-a`代表 all，表示显示所有的文件/文件夹（包含了隐藏文件/文件夹）
* `-h`：表示以较高可读性（文档大小）的形式进行展示

> Tips：在 Linux 命令语法中，多个选项可以合并写成 `-abcdef` 这种形式,例如`-l`和`-a`可以合并写成`-la`

使用案例如下：

![image-20220620033345577](https://picture.marui199710.top/essay/20220620033346.png)

> Tips：
>
> ①区分文件与文件夹：上述案例中，第一类的第一个字符表示文档类型，`d`表示文件夹，`-`表示是文件
>
> ②隐藏文件：在 Linux 中，隐藏文件都是以`.`开头的，其中`。`表示当前路径，`..`表示上一级路径
>
> ③文件颜色：使用`ls`命令的结果所表示的颜色是不一样的，其中文件夹一般是蓝色，文件一般是黑色的



### 2.2.4 查看当前工作目录pwd

pwd 命令（print working directory）可以用于查看当前的工种目录，其基本语法如下所示：

```powershell
pwd
```

使用案例如下：

![image-20220620034237453](https://picture.marui199710.top/essay/20220620034238.png)

### 2.2.5 切换目录cd

cd 命令（change directory）可以用于切换当前的工种目录，其基本语法如下所示：

```powershell
# 切换到家目录
cd
cd ~
# 切换到指定目录
cd 绝对路径或相对路径
```

使用案例如下：

![image-20220620034649017](https://picture.marui199710.top/essay/20220620034649.png)

### 2.2.6 清除终端信息clear

clear 命令可以用于清除终端信息（清屏），其基本语法格式如下所示：

```powershell
clear
```

### 2.2.7 获取当前用户的用户名whoami

whoami 命令可以用于显示当前登陆的用户的用户名，其基本语法格式如下所示：

```powershell
whoami
```

使用案例如下：

![image-20220620035005112](https://picture.marui199710.top/essay/20220620035006.png)

### 2.2.8 重启操作系统reboot

reboot 命令可以用于重启操作系统，其基本语法格式如下所示：

```powershell
reboot
```

### 2.2.9 关闭操作系统shutdowm

shutdowm 命令可以用于关闭操作系统，其基本语法格式如下所示：

```powershell
# 使系统在60秒后关机
shutdown
# 使系统立刻关机
shutdown now
shutdown -h now
shutdown -h 0
halt -p
```

该命令的可选选项有：

* `-h`：`-h`表示 halt，代表延迟关机，后接数字代表延迟关机的分钟数，如果数字为 0，表示立即关机
* `-c`：`-c`表示 cancel，如果在延迟关机时需要取消关机，首先输入`Ctrl+C`再输入`shutdown -c`来取消延迟关机

> Tips：在 CentOS6 中`Ctrl+C`即可取消关机，在CentOS7中还需要再额外输入`shutdown -c`，才能取消关机

* `-r`：代表重启计算机，后接数字代表延迟重启的分钟数，如果数字为 0，表示立即重启，重启延迟期间，仍然可以使用`shutdown -c`来取消操作

使用案例如下：

![image-20220620040146035](https://picture.marui199710.top/essay/20220620040146.png)

### 2.2.10 查看内部命令type

type 命令可以用于查看一个命令是属于内部命令还是外部命令，其基本语法格式如下所示：

```powershell
type 命令
```

使用案例如下所示：

![image-20220620041250825](https://picture.marui199710.top/essay/20220620041251.png)

### 2.2.11 查看历史执行命令history

history 命令可以用于列出最近输入的 1000 条命令信息，其基本语法格式如下所示：

```powershell
history
```

使用案例如下：

![image-20220620041433436](https://picture.marui199710.top/essay/20220620041434.png)

### 2.2.12 设置主机名hostnamectl

hostnamectl 命令可以用于设置计算机的主机名称（即给计算机起个名称），此命令是 CentOS7 新增的命令。

在 CentOS6 中，查看主机名称的命令为`hostname`，临时更改主机名称的命令是`hostname 临时主机名称`；永久更改主机名称的方式是编辑`/etc/sysconfig/network`，在文件中定义永久主机名。

在 CentOS7 中，主机名分为三类：静态的（static）、瞬态的（transient）、灵活的（pretty）。

* 静态主机名：静态主机名也称为内核主机名，是系统在启动时从`/etc/hostname`内自动初始化的主机名，相当于永久更改
* 瞬态主机名：瞬态主机名是在系统运行时临时分配的主机名，相当于临时更改，重启计算机后失效
* 灵活主机名：灵活主机名则允许使用特殊字符的主机名，例如"MaYun's Host"

> Tips：CentOS 7中和主机名有关的文件为`/etc/hostname`，它是在系统初始化的时候被读取的，并且内核根据它的内容设置瞬态主机名

hostnamectl 命令的基本语法格式如下所示：

```powershell
# 获取主机名称
hostnamectl
hostnamectl --static
hostnamectl --transient
hostnamectl --pretty
# 设置瞬态主机名
hostnamectl --transient set-hostname 主机名称
# 设置静态主机名，
hostnamectl --static set-hostname 主机名称
# 设置灵活主机名
hostnamectl --pretty set-hostname ”主机名称“
# 同时设置静态、瞬态主机名，并重置灵活主机名称
hostnamectl set-hostname 主机名称
```

> Tips：在设置主机名称时，取的名称应该遵循 FQDN 协议 （功能.公司域名）。例如`mysql.marui1997.top`、`redis.marui199710.top`等。

此外还可以通过编辑配置文件`/etc/hostname`来修改静态主机名。

## 2.3 VMware Tools

